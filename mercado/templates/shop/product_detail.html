{% extends 'base.html' %}
{% block content %}

<div class="grid md:grid-cols-2 gap-10 items-start">

  <!-- Product Image -->
  <div class="relative overflow-hidden rounded-2xl shadow-lg group">
    <img class="w-full transition-transform duration-700 ease-in-out transform group-hover:scale-110" 
         src="{{ p.image_url or ('https://picsum.photos/seed/' ~ p.id ~ '/1000/800') }}" 
         alt="{{ p.title }}" />
  </div>

  <!-- Product Info -->
  <div class="flex flex-col justify-between space-y-6">
    <div>
      <h1 class="text-4xl font-extrabold tracking-tight">{{ p.title }}</h1>
      <p class="text-gray-600 mt-3">{{ p.description }}</p>

      <div class="mt-6 flex items-center space-x-4">
        {% if p.discount_percent > 0 %}
          <div class="text-3xl font-extrabold text-gray-900 flex items-baseline gap-2">
            {{ p.sale_price|inr }}
            <span class="text-gray-400 text-lg line-through">{{ p.price|inr }}</span>
            <span class="text-green-600 font-medium text-sm">{{ p.discount_percent }}% off</span>
          </div>
        {% else %}
          <div class="text-3xl font-extrabold text-gray-900">{{ p.price|inr }}</div>
        {% endif %}
      </div>
    </div>

    <!-- Action Buttons -->
    <div class="flex gap-4">

      <!-- Add to Cart Button with Modern Shopping Bag Icon -->
      <a href="{{ url_for('shop.add_to_cart', pid=p.id) }}" 
         class="flex items-center gap-2 px-5 py-3 bg-black text-white rounded-xl shadow-lg hover:bg-gray-800 hover:scale-105 transition transform">
        <svg xmlns="http://www.w3.org/2000/svg" 
             fill="none" viewBox="0 0 24 24" stroke="currentColor" 
             class="h-5 w-5">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
                d="M16 11V7a4 4 0 00-8 0v4m-4 0h16l-1.68 9.39A2 2 0 0116.36 22H7.64a2 2 0 01-1.96-1.61L4 11z" />
        </svg>
        Add to Cart
      </a>

      <!-- Wishlist Heart Button -->
      <a href="{{ url_for('shop.toggle_wishlist', pid=p.id) }}" 
         class="flex items-center gap-2 px-5 py-3 border rounded-xl border-gray-300 text-gray-700 shadow hover:shadow-md hover:scale-105 transition transform">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-pink-500" fill="currentColor" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
                d="M4.318 6.318a4.5 4.5 0 016.364 0L12 7.636l1.318-1.318a4.5 4.5 0 116.364 6.364L12 21.682l-7.682-7.682a4.5 4.5 0 010-6.364z" />
        </svg>
        Wishlist
      </a>

    </div>
  </div>

</div>

{% endblock %}
